# Чат боты для VK и Telegram с вопросами для квиза



## Окружение
### Требования
Для запуска требуется python версии 3.10 и установленный [Redis](https://redis-docs.ru/operate/oss_and_stack/install/install-redis/). Или установленная утилита [uv](https://docs.astral.sh/uv/) 



### Установка зависимостей (если нет uv) 
```sh
pip install -r requirements.txt
```
### Переменные окружения

1. Создайте файл `.env` в папке проекта
2. Заполните файл `.env` следующим образом без кавычек:
```bash
TELEGRAM_BOT_TOKEN=token
TELEGRAM_CHAT_ID=id
TELEGRAM_DEBUG_BOT_TOKEN=token
VK_API_KEY=vk_token
```
#### Как получить токены

*  Токен для телеграм бота TELEGRAM_BOT_TOKEN(Бот для квиза) и TELEGRAM_DEBUG_BOT_TOKEN(Бот для отладки, **Необязательный**, если не указан, логи идут в консоль) можно получить при создании бота [ссылке](https://telegram.me/BotFather)
* TELEGRAM_CHAT_ID - ваш айди в телеграме, можно получить у [бота](https://telegram.me/userinfobot) 
* VK_API_KEY Api key группы в VK, требуется для запуска vk_bot


### Запустите скрипт 
```sh
python tg_bot.py 
```
для запуска бота в телеграме,
```sh
python vk_bot.py 
```
для запуска бота в vk,

При запуске бота, Загружаются вопросы из папки quiz-questions в кодировке KOI-8. Можно добавить свои вопросы или удалить лишние.
В формает вопросов требуется наличие двух отсупов между вопросом и ответом.
Например:
```
Вопрос:
Если верить Андрею Кнышеву (а верить ему не стоит), ответом человеку,
регулярно произносившему эту знаменитую фразу, была обычно площадная
брань да башмак в голову. Что же это за фраза?

Ответ:
"Вставайте, граф! Вас ждут великие дела!"

```
### При наличии uv
- Просто запустите скрипт с помощью uv 
```sh
uv run tg_bot.py 
```

### Примечание

  Напишите телеграм боту чтобы он мог отправлять вам сообщения
  Ответ из файла обрезается до первой '.' или '(' Далее сравнивается с полученным ответом по расстоянию Левенштейна-Дамерау. Если расстояние меньше длины обрезанного ответа деленнного на 3, то ответ считается правильным.
### Пример использования
[!example](https://github.com/user-attachments/assets/5ac4d113-ff0f-4c88-9a52-225ae07be685)

[vk](https://vk.com/club230930753)

[tg](https://t.me/devman_quiz123_bot)

